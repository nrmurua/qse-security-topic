This is probably a corner-case for most people, but it should be easy to check the environment and format the output depending on terminal/notebook.  See

ipython/ipython#9732 had a decent solution for this
This can be surprisingly hard â€” I think there's some code already in one our packages for making this determination.
