While it is not considered a bug (for now), the regtomem pass assumes that all operands and results are wires, which need not be the case in general. The code needs to be refactored to account for this.
