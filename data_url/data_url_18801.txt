In OpenQASM3 the opaque gate declaration was deprecated, the motivation being that the defcal replaces the need for it. However, this assumes that the target system in question will provide definitions for all gates to the frontend and that such definitions are expressable within an OpenQASM3 defcalgrammar. In most cases, the system will not report calibrations and rather link them automatically for the user behind the scenes. In this situation, it should be possible for the user to forward declare an opaque reference to a defcal that will exist in the future. One possibility is to declare this as extern, eg.,
This has the benefit that emitted OpenQASM is still valid even if the definition for the operation is not known. There is the open problem of how this interacts with the OpenQASM3 circuit scheduling since the duration of the defcal is not known a priori.
@levbishop
