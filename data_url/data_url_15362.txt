For example, ddt is required by tests but isn't listed.
n/a
n/a
Add test requirements.
We split the package requirements in what you need to run Qiskit as "user" and as "developer". If you only want to use Qiskit but don't need to change anything or don't want to contribute, the requirements.txt lists all the requirements. Once you start to develop code you'll need some extra packages and have to install requirements-dev.txt. Since we assume you only run tests as developer, these requirements you're missing are in requirements-dev.txt and you can also just install them with
But most of items in requirements-dev.txt aren't required for tests.
I need to list test dependencies as TEST_DEPENDS in the port and it wouldn't make sense to list packages not needed for tests. pip isn't involved.
Yes that's right, the requirements-dev.txt also contains required packages for the other checks like pylint or black, the docs build, and all the packages for optional tests (if I forgot something @mtreinish certainly knows all of them). I don't think we currently have a file that lists the requirements solely to run the tests ðŸ¤”
Right, the development requirements including test requirements are part of the requirements-dev.txt. These are for anything a developer would need to locally install on top of what qiskit itself requires for doing any development activity. We have no need to separate out a list of specific dependencies which are required solely for running unit tests. The extra requirements in that on top of tests are pretty minimal things like pylint and black. Most of the other requirements are duplicated between the different development activities.
If having an explicit list of dependencies for testing is a requirement of the FreeBSD packaging system I would either just use requirements-dev.txt for the TEST_DEPENDS variable or manually prune that list to exclude things which are clearly not for running tests. setuptools and setup.py doesn't have a provision for explicitly defining test dependencies (you could hack it in with an optional extra I guess but there isn't a use case for that in qiskit since we don't include tests in the published package) so there isn't anything we're going to add there. I'm going to close this issue since there isn't anything to fix here on the qiskit side.
