some trigger functionality is probably still flawed
OK, this scope state machine is driving me crazy, however, it looks like the bug can be finally solved with (commit is in spec_an_for_real):
I cherry-picked your commit into develop. Even if the scope now works possibly, the code at the end of Scope.setup is utterly confusing and somewhat redundant. I suggest we go through it together tomorrow and clean out the double or triple function calls that interact with the fpga (e.g. trigger_delay is called at least twice, sometimes with and sometimes without underscore), and add a few comments to render that part understandable. It seems this section is prone to bugs, and having no comments prevents people from touching it.
