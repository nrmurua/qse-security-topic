Ah, I fixed 1) by using Target.little_endian immediately after merging, but you are right, using data_layout for both is the way to go.
