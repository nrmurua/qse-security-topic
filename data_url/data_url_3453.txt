I compile my ansatz program into native quil in order to add T1 and T2 noise with the pyquil.noise._decoherence_noise_model function. This is the output quil program from quil_to_native_quil:
PRAGMA EXPECTED_REWIRING "#(0 1 2 3 4)" RZ(pi/2) 0 RX(pi/2) 0 RZ(0.5841713238794335) 0 RX(-pi/2) 0 RZ(pi/2) 1 RX(pi/2) 1 RZ(0.22119966370383193) 1 RX(-pi/2) 1 CZ 0 1 RZ(0.3678430920194802) 0 RX(pi/2) 0 RZ(0.45853877915754737) 0 RX(-pi/2) 0 RZ(-1.2529875494749532) 0 RZ(pi/2) 2 RX(pi/2) 2 RZ(0.7860315118673716) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.9147981570701088) 1 RX(pi/2) 1 RZ(0.29018054979630314) 1 RX(-pi/2) 1 CZ 0 1 RZ(-1.0936734453772146) 3 RX(-pi/2) 3 CZ 2 3 RZ(pi/2) 0 RX(pi/2) 0 RZ(0.8229535856434087) 0 RX(-pi/2) 0 RZ(-0.9942093255069799) 0 RZ(0.23554501529982086) 2 RX(pi/2) 2 RZ(0.5638415364288308) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.9440695996439862) 1 RX(pi/2) 1 RZ(0.22364704350562437) 1 RX(-pi/2) 1 CZ 0 1 RZ(0.10911369808046323) 3 RX(pi/2) 3 RZ(0.035731722740712346) 3 RX(-pi/2) 3 CZ 2 3 RZ(pi/2) 0 RX(pi/2) 0 RZ(0.42837383878552376) 0 RX(-pi/2) 0 RZ(-0.6944624937297534) 0 RZ(0.03781468869760651) 2 RX(pi/2) 2 RZ(0.45746381994170937) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.32131707127453435) 1 RX(pi/2) 1 RZ(0.37818822561203236) 1 RX(-pi/2) 1 CZ 0 1 RZ(0.6092191083331948) 3 RX(pi/2) 3 RZ(0.02384125724153363) 3 RX(-pi/2) 3 CZ 2 3 RZ(pi/2) 0 RX(pi/2) 0 RZ(0.6088469797718696) 0 RX(-pi/2) 0 RZ(-0.8758928445097544) 0 RZ(0.1527581306640058) 2 RX(pi/2) 2 RZ(0.6760585574177983) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.00124926812585624) 1 RX(pi/2) 1 RZ(0.6476586270884084) 1 RX(-pi/2) 1 CZ 0 1 RZ(0.3322858617101534) 3 RX(pi/2) 3 RZ(0.7728367154252707) 3 RX(-pi/2) 3 CZ 2 3 RZ(pi/2) 0 RX(pi/2) 0 RZ(0.4284354730997916) 0 RX(-pi/2) 0 RZ(-1.2511074638311186) 0 RZ(0.3021600103897546) 2 RX(pi/2) 2 RZ(0.07803133050701005) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.11105761803671399) 1 RX(pi/2) 1 RZ(0.17700098904630168) 1 RX(-pi/2) 1 CZ 0 1 RZ(0.9813625619442076) 3 RX(pi/2) 3 RZ(0.8987899054644041) 3 RX(-pi/2) 3 CZ 2 3 RZ(0.4214503948999395) 2 RX(pi/2) 2 RZ(0.23910183167574073) 2 RX(-pi/2) 2 CZ 1 2 RZ(0.7211935459470714) 3 RX(pi/2) 3 RZ(0.8815297470716252) 3 RX(-pi/2) 3 CZ 2 3 RZ(pi/2) 0 RX(pi/2) 0 RZ(0.2430912741030964) 0 RX(-pi/2) 0 RZ(-1.288896644239013) 0 RZ(0.2862800539302328) 1 RX(pi/2) 1 RZ(0.7577883163956406) 1 RX(-pi/2) 1 RZ(-1.097497371888793) 1 RZ(0.6773217320535115) 2 RX(pi/2) 2 RZ(0.32935609148890554) 2 RX(-pi/2) 2 RZ(-1.0574464821891696) 2 RZ(0.9616883311486508) 3 RX(pi/2) 3 RZ(0.7667432651766255) 3 RX(-pi/2) 3 RZ(-0.8003267998881084) 3 RZ(pi/2) 4 RX(pi/2) 4 RZ(pi/2) 4 PRAGMA CURRENT_REWIRING "#(0 1 2 3 4)" HALT
I input this program to _decoherence_noise_model, but get this error (Pragma commands throw it off):
File ".\SSVQE.py", line 72, in master_ansatz p = _decoherence_noise_model(p) File "C:\Users\Yousif\AppData\Local\Programs\Python\Python36\lib\site-packages\pyquil\noise.py", line 437, in _decoherence_noise_model all_qubits = set(sum(([t.index for t in g.qubits] for g in gates), [])) File "C:\Users\Yousif\AppData\Local\Programs\Python\Python36\lib\site-packages\pyquil\noise.py", line 437, in <genexpr> all_qubits = set(sum(([t.index for t in g.qubits] for g in gates), [])) AttributeError: 'Pragma' object has no attribute 'qubits'
Can I just remove the Pragma lines from the beginning and the end of the program? It's not actually doing any rewiring, right?
Can I just remove the Pragma lines from the beginning and the end of the program? It's not actually doing any rewiring, right?
Yes. Perhaps noise.py should be fixed to ignore pragmas.
