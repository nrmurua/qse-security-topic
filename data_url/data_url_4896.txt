Even the debugging functions, which print to stdout, could be unit-tested, e.g. by redirecting stdout using fmemopen.
This is definitely low priority though.
