There is a bug transpiling Cirq circuits containing the XXPowGate, YYPowGate or ZZPowGate to pyQuil. Below is a self-contained example showing the bug for the XXPowGate:
Hi @ryanhill1 , would you kindly assign this issue to me? (or another 'good first issue' as you see fit)
Hi @krpcannon, absolutely! Upon further investigation, this is actually a bug in cirq_rigetti.quil_output.py that we hope to create a work-around for. For example, cirq_rigetti maps the cirq.ops.XXPowGate to a function _xxpow_gate():
which uses two PyQuil X gates (for exponent = 1), or two Rx gates (otherwise). In most cases, this mapping is does not create an output circuit with an equivalent unitary. So we want to re-implement this function in our duplicate qbraid.transpiler.cirq_pyquil.quil_output.py and investigate which built-in PyQuil gate(s) can be used to construct an equivalent mapping. Where/if necessary, we can also fall back to an OpenQASM decomposition for the conversion, e.g.
and converted the decomposed gate set. However, if there is a more compact solution, that would be preferred.
