the pre-lock and post-lock functions should be selectable in a special type of stage that is always there
