This relates to #208 and #199
Design document draft here: https://docs.google.com/document/d/1n4EdeRrI8fka8sErzccOy6YK6pq-pF2JbopjQJmV6ZQ/edit?usp=sharing
