From: #7584 (comment)
Do you reckon it's worth (in a completely separate issue) adding a global option somewhere to make the builder interface deterministic, purely for testing? At the time that the circuit is actually constructed, we can do things like sort arguments based on id (so it's based on the hash seed) and so forth if we're in deterministic mode.
It'd make some testing easier, but it would add complexity to the builders.
I realised after I wrote that original comment that sorting by id isn't dependent on the hash seed - it's dependent on the memory allocator and what you've allocated and freed before it - but we should have enough information to come up with some deterministic order anyway.  It'll involve sorted based on some more global property (perhaps the order that the bits exist in the top-level circuit), but it's hopefully solvable.
