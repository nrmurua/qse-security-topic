The OpenQASM 3 exporter is not correctly handling non-standard (user-defined) gates put in basis_gates.  This is useful when the backend supplies some gates that Terra does not have decompositions for; one should be able to add the gate as an opaque gate, and use the basis_gates argument to cause Terra to treat it as having some external definition.  The transpiler does this correctly, but not the QASM 3 exporter.
results in an error from trying to export an opaque instruction:
The error would be correct if the gate was truly opaque, but since it's passed in basis_gates, it should instead be output with no definition.
The order of the logic in the exporter's GlobalNamespace is a bit out-of-order - it does the special handling for basis gates after the check for regular instructions (which always returns a value for Instruction subclasses), so the check never triggered.
