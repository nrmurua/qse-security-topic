I am running the example https://github.com/Qiskit/qiskit-iqx-tutorials/blob/master/qiskit/advanced/aqua/artificial_intelligence/qgans_for_loading_random_distributions.ipynb and try to move from BasicAer simulator to Aer simulator. Unfortunately, qiskit throws the error "Data for experiment "circuit4" could not be found." when calling qgan.run(quantum_instance). Thanks!
I was able to reproduce the same error using everything from Pypi. I then created an environment using the projects from github master including Aer and it worked with the following time: "qGAN training runtime:  27.37381683588028  min". I then used another environment with everything from Pypi but Aer from github master (0.4.0). It worked but it took double time compared to master: "qGAN training runtime:  51.01188133160273  min". So it seems to be a problem in Aer 0.3.2 and using the master Aer with all the other libraries from Pypi still works despite taking double time. I ran on MacOS - Catalina, Python 3.7.4. I am including @chriseclectic in case he has any comments about Aer.
So what is the current status? How do we proceed?
If you change to Aer qasm_simulator, it works without the exception. It still takes ~ 53  mins. Running everything from github master works with either statevector or qasm_simulator and takes ~ 30 mins. So currently you can either run the code from Pypi using BasicAer or Aer with qasm_simulator or run everything from github master. The difference will be in speed, around 20 mins less for master in my machine.
Thanks for your reply. My question is more targeting a solution of the underlying problem. I am interested in contributing to it but it is not obvious to me where to start and what problem to target.
In my opinion the first issue (0.3.2 not working) should be fixed by the next release of qiskit aer, right? The other issue (github master/0.4.0 taking double time) seems to be a problem, right?
Github master/0.4.0 takes ~ 30 mins. Pypi/0.4.0 takes ~ 50 mins. So actually the latest code in master is around 20 mins faster in my machine,  probably due to improvements in  master Terra or Aqua. It is the release in Pypi that is slower than master with Aer 0.4.0 or raises exception with Aer 0.3.2. So the issue doesn't exist in the current master code which is faster, however contributions are always welcomed if you feel you can improve further the Aqua qGAN algorithm.
Thanks for the clarification. Maybe the speed improvement can be explained by additional CPU optimizations in the fully self-compiled version.
How do you install 0.4.0 from pypi, for me there is only 0.3.2 ?
Aer 0.4.0 isnâ€™t in pypi yet, you need to build it from Aer github master and install your built version. The qiskit-aer project has instructions on how to do that at:  https://github.com/Qiskit/qiskit-aer/blob/master/CONTRIBUTING.md
Ah okay, I tried to install qiskit-aer from source but the error is still there. Did you also check this at macos? I will try to install everything into a linux container and see if the problem is still the same.
I use a MacOS Catalina. the notebook worked with Aer 0.4.0 either with code from github master or pypi. Also it worked with Aer 0.3.2 if you use qasm_simulator.
@czachow Do you have any update on this. Locally with the latest code from master the issue, that was there in stable release, no longer exists
Thanks for asking. So far the source version of qiskit works fine. Only the pypi version shows the issue. I think we can close this issue or tag it with the version 0.3.2.
Thanks for responding. I will close the issue since the latest code off master branches works fine. I will note there is a Qiskit Aer 0.3.3 now published. I did not try that to see if that has the issue corrected but since it was released 12 days ago, which is after the main discussion above, hopefully it no longer has the problem. If not then then that come in a future release off master for Aer.
