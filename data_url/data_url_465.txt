Currently, most simulators leverage the AllGateVisitor to walk the IR tree and apply correct gate unitaries to a state vector. Instructions are a plugin to the framework, so if someone introduces a new Instruction, then all these simulators and AllGateVisitor need to be updated to add a visit() method for that new Instruction.
It would be interesting to see if we could come up with a way such that if one provides a new Instruction, they could also provide the matrix representation via some other plugin interface, and hook up AllGateVisitor to by default try to extract an unknown Instructions matrix data and use it as part of the simulation.
