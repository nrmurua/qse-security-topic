In #1332 there is a huge drop in reported test coverage by Coveralls.  This is because large tracts of the most-tested Python files were either severely reduced in length, or converted to Cython files, and it seems that Coveralls does not correctly handle Cython; it reports the existence of a x.py file for every x.pyx file that exists, with the .py file having 7 lines, all of which are apparently untested.
The new data-layer types are tested albeit not as completely as they will be once they're finished, but Coveralls has reported a huge drop in coverage.  I don't know if any coverage estimators exist for Cython (I would expect not due to their compiled nature), but it's perhaps something we should consider.
Also, Coveralls counts the test files as part of its coverage indicator.  By my rough count, there are 42,223 SLOC in qutip (i.e. excluding comments and whitespace but unfortunately including docstrings), of which 11,259 are in qutip/tests.  Aside from a couple of skipped tests, 100% of the lines in qutip/tests will be run, so if we produce a modified coverage report, having 61% of the SLOC covered in all of qutip is equivalent to
46.8% true coverage.
We probably could really do with a concerted effort to add more tests of all the little nuances of the code.
Ok, so I found that Coveralls can actually handle Cython, or more, Cython can make itself check-able with coverage tools including pytest-cov: see https://cython.readthedocs.io/en/latest/src/tutorial/profiling_tutorial.html#enabling-line-tracing. We'll need to enable that to get better coverage reports.
Also, I found that actually the particularly large drop in reported test coverage is not just because of the swap to Cython, but because when I created the qutip.solve logical package, I moved the tests into tests/solve, but didn't correctly add that to the package creation portion of setup.py, so the tests weren't being run.  Whoops.  On #1338 the coverage has jumped back up to ~70% like it was before.
Tag: @Ericgig.
