Right now we don't have any CI caching configured with azure pipelines. It wasn't a supported feature of azure when we first started using it. There is a preview/beta feature available that adds this to azure pipelines: https://docs.microsoft.com/en-us/azure/devops/pipelines/caching/?view=azure-devops This will let us cache directories between runs, which should speed up the environment setup (and maybe test running). To start we should cache $HOME/.cache/pip and .stestr in the repo root (well all that's really needed is the times.dbm files in that directory). This will do 2 things it will cache all our pip downloads from pypi between runs which should increase the speed of installing dependencies (except for probably on windows where it seems to compile a couple) and the .stestr dir contains test run records that can be used to improve scheduling of jobs in parallel which sometimes can improve worker balance and speed up parallel execution.
Given the current lack of reliability with azure pipelines and that this is listed as a preview feature we should probably hold off on adding this in the short term. This issue is to just track it as an eventual goal.
This was fixed a while ago as we have caching in the azure jobs now.
