Dear devs,
I was calculating some IR spectra using AIMD and noticed that there are large discrepancies between spectra from my local server and from Piz Daint. To investigate, I set up some tests using this input:
I ran this input on 4 different configurations:
Which to my surprise got me 4 wildly different dipole evolutions:

So I looked into the trajectory files and plotted differences to the srv01-git trajectory in nuclear coordinates within the water molecule:

I am curious whether this is a known issue. I am now rebasing my personal branch to the 7.1 tag to hopefully get around these inconsistencies and will report whether they persist.
Thanks you for your time
@l00ki thanks for the report! Can you possibly provide the toolchain invocation and the arch files (only if modified from the toolchain generated) as well as some information about the local environment (Linux distro/version, gcc version, MPI version if not from toolchain) and whether this is on daint-gpu or -mc?
The local server (srv01) runs on Ubuntu 18.04.5 LTS, kernel 4.12, with gcc 7.5.0, OpenMPI 2.1.1 from Ubuntu repositories, without CUDA. The arch files were generated by the toolchain scripts, but here they are anyways, just in case:
7.1 release:
current git:
On Daint, I used the CPU-version with the Daint arch file from the CP2K Dashboard and compiled it with the modules daint-mc, PrgEnv-gnu/6.0.8, gcc/8.3.0 and cray-fftw/3.3.8.7:
Two MD trajectories with the same initial conditions usually diverge due to numeric noise. It's called Lyapunov instability.
Of course, your IR spectra should still converge... eventually.
