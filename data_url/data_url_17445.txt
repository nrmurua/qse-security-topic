Users are likely to expect Swap passes return physical circuit (circuit with physical qubits) as the original swap mapper was doing so. However current Swap passes [<-This was not correct. BasicSwap and LookaheadSwap return physical circuit. Only the StochasticSwap doesn't return physical circuit] return logical circuit (circuit with virtual qubits) + initial layout. Not only it different from users' expectation, but also it means users must apply the initial layout to the logical circuit in order to get physical circuit (using another pass, say ApplyLayout pass).
The problem is it must be done "before" applying Decompose(SwapGate) pass because ApplyLayout pass need to track layout change relying on swap gates. Once swap gates are decomposed, users no longer produce physical circuit. Can PassManager handle this dependency? I think manual management of this kind of dependency is not a good solution.  (Note that I don't argue if ApplyLayout pass is necessary or not). This issue is created for discussing what SwapPasses should return.
Isn't "SwapPasses return physical circuit" the simplest solution?
Simple example:
I found I misunderstood output of current swap passes, pointed out by @1ucian0 .
BasicSwap and LookaheadSwap return "semantically" physical circuit. So I have no issue on those two swap passes. This issue only goes for StochasticSwap.
The problem is it must be done "before" applying Decompose(SwapGate) pass because ApplyLayout pass need to track layout change relying on swap gates.
I don't agree with this. ApplyLayout should not care about the contents of the circuit. The circuit is what it is, it could have any gates. The ApplyLayout pass will only relabel and permute qubits (how can it even know which swaps were introduced by the swapper and which swaps were part of the original circuit?)
@ajavadia Oh, I understand your definition of ApplyLayout (what I thought may be too much). It is just a rename of qubits from virtual ones to physical ones (a special case of RenameQubits), right? For example,
According to your comments on #2066, I think you agreed that Swap passes should return circuit with physical qubits. So I think we can close this issue and continue discussion on how and when (your  definition of) ApplyLayout should be used at #2066.
Ok so let's continue the discussion in #2066
