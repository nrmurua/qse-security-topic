When the feature work related to microsoft/qsharp-runtime#249 is merged into main, the behavior of M will change such that each call to M ends up calling Measure underneath. This means that places like Tests.qs that validate measurement counts by adding together the number of calls to M and the number of calls to Measure will incorrectly double count and reject valid solutions. The fix is to update the counting logic to only count calls to Measure, but that change should only be made once the katas are updated to target a version of the QDK that includes the target package feature.
Per conversation with @tcNickolas we think the best way to address this is fix the counting mechanism right when the target package feature gets merged. That will have correct behavior for anyone using beta QDK while being slightly over permissive for anyone using the release QDK until the feature makes it into a release. No one should experience any failures during that time, but some invalid kata solutions (that use too many calls to M) will be accepted, which is unfortunate but not blocking.
@bettinaheim  for FYI
The work for microsoft/qsharp-runtime#249 has completed the feature branch has been merged, so it's time to circle back to this issue and fix the katas as described above. I'll open a PR soon.
