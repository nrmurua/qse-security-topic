If I run a SWAP instruction on a device that has both CZ and XY (and therefore, XY(pi) = iSWAP) gates, then I should be able to use the trick identified in https://arxiv.org/abs/quant-ph/0209035 to use one CZ and one iSWAP to compile a SWAP gate, instead of 3 CZs or 3 XYs. However, the compiler generically just compiles a program like the following using 3 CZs, even though it has access to XY gates as well.
