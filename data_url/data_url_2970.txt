TrialContext has a param_dict of assignments to parameterized values for that trial (e.g. a particular point in a sweep). But it also has a repetition_id which doesn't make much sense to me because we do multiple repetitions for each fixed parameter assignment. I assume results from all repetitions of a given param assignment will be returned in one TrialResult, and thus have the same TrialContext. Am I missing something?
Ok, I see that the current simulator interface does not take a number of repetitions to run. I think we probably want to add that since it could speed up common cases (for example, if you only measure at the end, then the simulator can compute the wavefunction once and then sample all the repetitions without recomputing). In that case, it's much more natural for the TrialResult to be able to contain results from many repetitions, and not have a repetition_id in the TrialContext, which would just contain parameters (and in fact, we could just include the ParamResolver in TrialResult and get rid of TrialContext altogether). (That's also what we do in the protos where ParameterizedResult includes the parameter assignments and results from all repetitions.)
