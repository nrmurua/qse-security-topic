In the current implementation of the MPS simulation method, to apply a 2-qubit (or 3-qubit) gate, we must first bring the qubits to consecutive positions in the MPS structure. This is done by applying swaps on all qubits between qubit_a and qubit_b until they are next to each other. After applying the gate, the qubits are returned to their original positions by additional swaps.
These swaps have a penalty in performance both by performing the gate itself, and also by potentially increasing the tensor dimensions for each of the qubits.
Suggestion: rather than return the qubits to their original positions, maintain a structure that will keep track of the labels of the qubits, and swap them only on demand.
