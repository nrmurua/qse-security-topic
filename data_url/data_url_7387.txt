As mentioned in #8 a general way to create a diagonal operator with something like diagonaloperator(b, energies) would be useful.
I have implemented the discussed function in the operators_sparse.jl file. Please review #14 and merge if everything is in order.
Yep, the last version using parametric functions is much nicer!
