operating system
Windows 10 x64, miniconda v 4.5.4 (venv)
qcodes branch
master
qcodes commit
8970a08
@dpfranke, @eendebakpt
The problem is that the wrapper validated the end point but does not take into account that the points in between generated by step may not be valid because the parameter is out of bounds for the validator before starting to step.
I believe that this is fixed by #1176. @lucblom Do you have any other ways of triggering this that does not involve both starting from an invalid value and setting a step size
And by the way I disagree slightly on the expected behavior. I would expect it to be
There is nothing in the code that will atempt to set the value to -10 so you should get a ValueError when trying to set the first step which is -5 but before the actual step is performed
@jenshnielsen. Thank you for the quick reply!
We stumbled upon this behavior when using the IVVI. We use validators with a smaller range than the actual voltage limits of the device. We want to protect the user from setting too large values that could potentially damage the connected chip. How the invalid value was initially set is unclear to us.
I only could trigger this when starting from an invalid value and I agree that the expected behavior should be as you described.
