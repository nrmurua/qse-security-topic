The analog channels are significantly delayed compared to the marker channels (I've seen a ~52 ns delay = 62 samples). To fix this we could put marker data into a FIFO buffer before it is output. Ideally, this buffer would have a size which is configurable with a register.
Triggers now go through a two-stage output engine which allows for overlapping trigger specifications. Remaining delays can be handled in software.
