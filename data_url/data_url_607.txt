We have just enabled the Instruction.customVisitAction method so users can inject custom Instructions and not have to update any existing Visitors. This is great for visitors that generate native assembly code, but what about simulators that implement the visitor pattern?
For this, you could imagine custom Instructions implementing the customVisitAction method, getting reference to the visitor and requesting the internal simulated data structure via a shared_ptr API. If you know what simulator you want to work with you just cast that void* to whatever and operate on it.
