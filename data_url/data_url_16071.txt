The global phase in a wavefunction generated by statevector-simulator depends on the optimization level in the transpiler.
The output should not depend on optimization_level
So I actually think this is a bug with BasicAer not factoring in a global phase we set on the output circuit in the transpiler, and not a bug in the transpiler itself. When I ran this example using Aer:
it produces the expected result (ignoring float precision):
@juanjosegarciaripoll  Has this issue been resolved? I don't see it on BasicAer as of 0.18.0.dev0+31a24c1
Closing this issue. If it still persists please feel free to reopen.
