When calling the to_gate().control() method on a QuantumCircuit, if the QuantumCircuit contains an IGate, an error qiskit.exceptions.QiskitError: "Error decomposing node of instruction 'id': 'NoneType' object has no attribute 'global_phase'. Unable to define instruction 'id' in the given basis." is thrown. While this may seems as a contrived example (because one can avoid this error message by removing IGate in the circuit), this indicates that the implementation of IGate can be improved.
No error message should occur when a circuit containing IGate is used for making a controlled version of a customized gate.
No response
Thanks for the report.  This is a duplicate of #4010, and it's fixed on main by a combination of #10607 and #7146, so I'll close this now - the fix will be released in Qiskit 0.45 in about two weeks' time.
