When I try to locally compile liboqs after #650 landed, I get the follow compilation error:
I'll check if this code is actually supported on macOS (I suppose the circleCI mac VMs didn't support avx2, so this code wasn't triggered?); if not, I'll revert back to non-avx2 processing on macOS. I hope to get to this this afternoon, as to not have the master branch failing.
This is also causing problems on the Mingw AppVeyor build.
PR #656 hopefully solves the issue, for both macOS and appveyor.
Hello, I tried to compile it on Ubuntu 18.04.04, and I get the following errors:
[9/661] Building C object src/common/CMakeFiles/common.dir/rand_nist.c.o FAILED: src/common/CMakeFiles/common.dir/rand_nist.c.o  /usr/bin/cc  -Iinclude -fvisibility=hidden   -Wall -Wextra -Wpedantic -Wimplicit -Wunused -Wcomment -Wchar-subscripts -Wuninitialized -Wstrict-prototypes -Wshadow -Wformat-security -Wwrite-strings -O3 -fomit-frame-pointer -march=native   -std=gnu11 -MD -MT src/common/CMakeFiles/common.dir/rand_nist.c.o -MF src/common/CMakeFiles/common.dir/rand_nist.c.o.d -o src/common/CMakeFiles/common.dir/rand_nist.c.o   -c ../src/common/rand_nist.c ../src/common/rand_nist.c:71:14: error: conflicting types for ‘OQS_randombytes_nist_kat_init’ OQS_API void OQS_randombytes_nist_kat_init(unsigned char *entropy_input, unsigned char *personalization_string, int security_strength) { ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In file included from include/oqs/oqs.h:18:0, from /usr/local/include/openssl/evp.h:18, from ../src/common/rand_nist.c:16: include/oqs/rand.h:66:14: note: previous declaration of ‘OQS_randombytes_nist_kat_init’ was here OQS_API void OQS_randombytes_nist_kat_init(const uint8_t *entropy_input, const uint8_t *personalization_string, int security_strength); ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~ [14/661] Building C object src/kem/bike/CMakeFiles/bike1_l1_cpa.dir/additional/decode.c.o ninja: build stopped: subcommand failed.
I tried to compile it a few moments ago.
Can you retry after applying this patch to the latest commit?
Hello, I updated to the latest commit and tried to recompile, still getting the same errors.
It's confusing to change the issue's title, as we are discussing two different issues. The picnic issue on mac was fixed, so we should close this. The rand issue would be better discussed in a different thread.
