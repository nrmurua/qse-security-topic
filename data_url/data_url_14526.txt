This can be left for a follow up issue, but there may be some value here in consolidating the distinct incomplete_source_basis and performing the basis_search once per each, rather than once per non-global edge. That is, if a device has two types of links, one which can perform a cx, and one which can perform an iswap, it'd be good to perform the basis_search twice instead of num_edges times.
Originally posted by @kdk in #7227 (comment)
