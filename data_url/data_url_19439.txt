I am now reproducing the results of the autoencoder tutorial, and I saw that someone changed the cost function, that is, the "encoder hamiltonian". The code looks better now, but the cost function has to be wrong defined. Why? Because it cannot go below 0 and it does. What we have now:
encoder = 0.5 * (compress + 2*hamiltonians.Z(nqubits))
What we had:
I believe the problem is that hamiltonians.Z(nqubits) has to be something like hamiltonians.Z(compress), and then some tensor product between that and identities to have the same dimension as identity(nqubits)*compress (?)
Note: in the definitions of hamiltonians.Y(nqubits) and hamiltonians.Z(nqubits) there is a typo where it says pauli-X in the description.
Thanks for finding this. I must have changed that during some of the updates / attempts to simplify the tutorials as we were implementing new features in Qibo, but indeed the 0.5 * (compress + 2*hamiltonians.Z(nqubits)) does not agree with the one created by the function you write.
I believe the problem is that hamiltonians.Z(nqubits) has to be something like hamiltonians.Z(compress), and then some tensor product between that and identities to have the same dimension as identity(nqubits)*compress (?)
Yes, the simplest way I could find to reproduce the correct Hamiltonian using Qibo's hamiltonians.Z follows this approach and is the following:
The matrices generated by this agree with your function for various values of nqubits and ncompress if nqubits > ncompress (this is the only case, right?).
Note: in the definitions of hamiltonians.Y(nqubits) and hamiltonians.Z(nqubits) there is a typo where it says pauli-X in the description.
Yes, thanks for spotting this. We should probably fix these two issues with a PR.
Yes, that should be fine. Do you open the PR? I will open a PR soon with the new tutorial I am preparing, so would be great if we update to the new version asap. Thanks.
Yes, that should be fine. Do you open the PR? I will open a PR soon with the new tutorial I am preparing, so would be great if we update to the new version asap. Thanks.
I can open a PR for these two fixes but it should be reviewed before merging. If you are planning to open one anyway you can fix the Hamiltonian of the existing example there directly so that you have it fixed on the same branch. Don't worry about the docs, I can push the fix for this. Let me know whatever you prefer.
OK, I will fix the cost function on the autoencoder example, no problem.
