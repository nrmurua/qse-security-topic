When using decorator args/parens, PyCharm doesn't correctly identify the type of the Program
Here, it assumes that aq.main returns a Program, and then a Program is called on teleportation. Adding a def __call__(...) -> Program definition to the Program class "fixes" this, but that's clearly not the correct solution.
I suspect that PyCharm is just using the first return type of the decorator instead of considering the union. Even when I updated it from Program | partial to Program | Callable[..., Program], it still didn't work correctly. Updating to Program | Callable[..., Program] now appears to fully resolve this.
