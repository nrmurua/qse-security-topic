should implement what was in fitting.py in some more or less reusable widget / api module
