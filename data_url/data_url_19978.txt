Originally posted by k-Artin January 28, 2023
hello
I am getting the following errors when I install liboqs on windows with mingw32.
$ ninja -j 4
[1118/1132] Building C object tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj
FAILED: tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj
C:\msys64\mingw32\bin\cc.exe -DOQS_COMPILE_OPTIONS="[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot
otypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f
function-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma
s;-Wno-unused-parameter]" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in
clude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic
-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat
a-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u
nknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_kem.dir/speed_kem.c.o
bj -MF tests\CMakeFiles\speed_kem.dir\speed_kem.c.obj.d -o tests/CMakeFiles/speed_kem.dir/speed_kem.
c.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c
In file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c:17:
C:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':
C:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct
ion '__rdtsc' [-Werror=implicit-function-declaration]
125 |         return __rdtsc();
|                ^~~~~~~
cc1.exe: all warnings being treated as errors
[1121/1132] Building C object tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj
FAILED: tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj
C:\msys64\mingw32\bin\cc.exe -DOQS_COMPILE_OPTIONS="[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot
otypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f
function-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma
s;-Wno-unused-parameter]" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in
clude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic
-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat
a-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u
nknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_sig.dir/speed_sig.c.o
bj -MF tests\CMakeFiles\speed_sig.dir\speed_sig.c.obj.d -o tests/CMakeFiles/speed_sig.dir/speed_sig.
c.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c
In file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c:17:
C:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':
C:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct
ion '__rdtsc' [-Werror=implicit-function-declaration]
125 |         return __rdtsc();
|                ^~~~~~~
cc1.exe: all warnings being treated as errors
ninja: build stopped: subcommand failed.
what i see is that the mingw32 can not find the __rdtsc() function.
i am searching in the internet and find the library intrin.h  which has this function.
i think this library is missing in the ds_benchmark.h.
Thank you in advance!

after adding the library this error will be disappear.
after adding the library this error will be disappear.
Good to hear. Please consider contributing this improvement via a PR. Is it as simple as adding this diff(?):
yes this is ok
please add this code to the liboqs.
thanks
please add this code to the liboqs.
Just read up on mingw32: This seems to be a package where maintenance stopped in 2013 and gcc is at v6. It does not seem advisable at all to add support for this. Unless compelling arguments are given this issue will be closed without further action.
my gcc version is :
gcc.exe (Rev6, Built by MSYS2 project) 12.2.0
Copyright (C) 2022 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
So the issue is with msys2, not mingw32?? Please specify exactly the environment and setup under which you experience the issue and update the issue (incl. topic) suitably. Edit/Add: Also please specify where you did something different than documented in https://github.com/open-quantum-safe/liboqs/wiki/Platform-specific-notes-for-building-liboqs#using-msys2-and-mingw
my setup is C:\msys64\mingw32\bin\gcc.exe from the mingw32.exe. cmake is C:\msys64\mingw32\bin\cmake.exe.
Edit/Add: Also please specify where you did something different than documented in
i adding the #include <intrin.h> in the ds_benchmark.h.
my setup is C:\msys64\mingw32\bin\gcc.exe from the mingw32.exe. cmake is C:\msys64\mingw32\bin\cmake.exe.
This does not provide information which software distribution you are using. What did you install? What do we need to install to reproduce your issues? Be informed that tests for msys2 are passing, so it seems the problem is with your installation.
i am using this command in mingw32.exe bash:
cmake.exe -D CMAKE_PREFIX_PATH=/c/openvpn3/ -D CMAKE_INSTALL_PREFIX=/c/openvpn3/ -D BUILD_SHARED_LIBS=ON -D OQS_DIST_BUILD=ON -D CMAKE_C_COMPILER=gcc -S . -B _build
cd _build
ninja -j 4
ninja install
and before that i install the repository in https://github.com/open-quantum-safe/liboqs/wiki/Platform-specific-notes-for-building-liboqs#using-msys2-and-mingw.
What is the result of ninja run_tests? What is the output of tests/test_kem Kyber512?
result of the ninja run_tests and i got many error:
============================================================ short test summary info ============================================================
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium2] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_examples[example_kem] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium3] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_examples[example_sig] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium5] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium2-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium3-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-348864] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Dilithium5-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-348864f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Falcon-512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-460896] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[Falcon-1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-460896f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-6688128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-6688128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-6960119] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHAKE256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-6960119f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-8192128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Classic-McEliece-8192128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber768] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber512-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-Haraka-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber768-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[Kyber1024-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[sntrup761] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_cmdline.py::test_sig[SPHINCS+-SHA256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-348864] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber768] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-348864f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-460896] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber512-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-460896f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6688128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber768-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium3] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6688128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Kyber1024-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium5] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6960119] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[sntrup761] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium2-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6960119f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium3-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-8192128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium5-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[Classic-McEliece-8192128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Falcon-512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Falcon-1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[Dilithium2] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-Haraka-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHA256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-348864] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-8192128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6688128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6688128f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-348864f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber768] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6960119] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-460896] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6960119f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-460896f] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber512-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-8192128] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-976-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber768-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[sntrup761] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-1344-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-640-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-1344-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-640-SHAKE] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium3] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[Kyber1024-90s] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium5] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium2] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-976-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium5-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium2-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Falcon-512] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Dilithium3-AES] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[Falcon-1024] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-Haraka-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-256s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-128f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHA256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-128f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-128s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-192f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-128s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-192f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-256f-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-192s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-192s-robust] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-256f-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-256s-simple] - AssertionError: Got unexpected return code 3221225781
FAILED tests/test_mem.py::test_mem_sig[SPHINCS+-SHAKE256-256s-robust] - AssertionError: Got unexpected return code 3221225781
ERROR tests/test_alg_info.py
================================================== 212 failed, 313 skipped, 1 error in 14.42s ===================================================
FAILED: tests/CMakeFiles/run_tests C:/msys64/home/liboqs/liboqs-main/_build/tests/CMakeFiles/run_tests
cmd.exe /C "cd /D C:\msys64\home\liboqs\liboqs-main && C:\msys64\mingw32\bin\cmake.exe -E env OQS_BUILD_DIR=C:/msys64/home/liboqs/liboqs-main/_b
uild python -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos"
ninja: build stopped: subcommand failed.
What is the output of tests/test_kem Kyber512?
______________________________________________________________ test_kem[Kyber512] _______________________________________________________________
[gw3] win32 -- Python 3.10.9 C:/msys64/mingw32/bin/python.exe
kem_name = 'Kyber512'
tests/test_kat.py:15:
command = ['C:/msys64/home/liboqs/liboqs-main/_build/tests/kat_kem.EXE', 'Kyber512'], working_dir = '.'
env = {'!;': ';\', 'ACLOCAL_PATH': 'C:\msys64\mingw32\share\aclocal;C:\msys64\usr\share\aclocal', 'ALLUSERSPROFILE': 'C:\ProgramData', '
APPDATA': 'C:\Users\liboqs\AppData\Roaming', ...}
expected_returncode = 0, input = None, ignore_returncode = False
E           AssertionError: Got unexpected return code 3221225477
tests/helpers.py:42: AssertionError
------------------------------------------------------------- Captured stdout call --------------------------------------------------------------
. > C:/msys64/home/liboqs/liboqs-main/_build/tests/kat_kem.EXE Kyber512
______________________________________________________________ test_kem[Kyber512] _______________________________________________________________
[gw3] win32 -- Python 3.10.9 C:/msys64/mingw32/bin/python.exe
kem_name = 'Kyber512'
tests/test_kat.py:15:
command = ['C:/msys64/home/liboqs/liboqs-main/_build/tests/kat_kem.EXE', 'Kyber512'], working_dir = '.'
env = {'!;': ';\', 'ACLOCAL_PATH': 'C:\msys64\mingw32\share\aclocal;C:\msys64\usr\share\aclocal', 'ALLUSERSPROFILE': 'C:\ProgramData', '
APPDATA': 'C:\Users\liboqs\AppData\Roaming', ...}
expected_returncode = 0, input = None, ignore_returncode = False
E           AssertionError: Got unexpected return code 3221225477
tests/helpers.py:42: AssertionError
------------------------------------------------------------- Captured stdout call --------------------------------------------------------------
. > C:/msys64/home/liboqs/liboqs-main/_build/tests/kat_kem.EXE Kyber512
This is not the output of test_kem.
test_kem.exe is built when the intrin.h in the ds_benchmark.h. is added
Target platform:  AMD64-Windows-10.0.19045
Compiler:         gcc (12.2.0)
Compile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat- equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-ffunction-sections;-Wl,--gc-sections ;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragmas;-Wno-unused-parameter]
OQS version:      0.7.3-dev
OpenSSL enabled:  No
AES:              NI
SHA-2:            C
SHA-3:            C
OQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=Release
CPU exts active:  ADX AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3 ================================================================================ Sample computation for KEM Kyber512 ================================================================================ shared secrets are equal
So test_kem doesn't fail (contrary to your listing above). What about the other tests triggered by ninja run_tests? For example what about test_sig Dilithium3? You also list it above as failed, but if you manually execute it, does it pass? Same question for all other tests: Which ones really fail and what is the error output of the test when it fails?
after adding intrin.h in the ds_benchmark.h and run ninja -j 4 && ninja run_tests  i see the In the following error:
===================================== short test summary info =====================================
FAILED tests/test_cmdline.py::test_sig[Dilithium2-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_cmdline.py::test_sig[Dilithium3-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_cmdline.py::test_sig[Dilithium5-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-348864] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-348864f] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-460896] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-460896f] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6688128] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6688128f] - AssertionError: Got unexpected retur
n code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6960119] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-6960119f] - AssertionError: Got unexpected retur
n code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-8192128] - AssertionError: Got unexpected return
code 3221225477
FAILED tests/test_kat.py::test_kem[Classic-McEliece-8192128f] - AssertionError: Got unexpected retur
n code 3221225477
FAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected return code 3221225477
FAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected return code 3221225477
FAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected return code 3221225477
FAILED tests/test_kat.py::test_kem[Kyber512] - AssertionError: Got unexpected return code 3221225477
FAILED tests/test_kat.py::test_kem[Kyber768] - AssertionError: Got unexpected return code 3221225477
FAILED tests/test_kat.py::test_kem[Kyber1024] - AssertionError: Got unexpected return code 322122547
7
FAILED tests/test_kat.py::test_kem[Kyber512-90s] - AssertionError: Got unexpected return code 322122
5477
FAILED tests/test_kat.py::test_kem[Kyber768-90s] - AssertionError: Got unexpected return code 322122
5477
FAILED tests/test_kat.py::test_kem[Kyber1024-90s] - AssertionError: Got unexpected return code 32212
25477
FAILED tests/test_kat.py::test_kem[sntrup761] - AssertionError: Got unexpected return code 322122547
7
FAILED tests/test_kat.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got unexpected return code 32
21225477
FAILED tests/test_kat.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got unexpected return code 32
21225477
FAILED tests/test_kat.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got unexpected return code 3
221225477
FAILED tests/test_kat.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_sig[Dilithium2] - AssertionError: Got unexpected return code 32212254
77
FAILED tests/test_kat.py::test_sig[Dilithium3] - AssertionError: Got unexpected return code 32212254
77
FAILED tests/test_kat.py::test_sig[Dilithium5] - AssertionError: Got unexpected return code 32212254
77
FAILED tests/test_kat.py::test_sig[Dilithium2-AES] - AssertionError: Got unexpected return code 3221
225477
FAILED tests/test_kat.py::test_sig[Dilithium3-AES] - AssertionError: Got unexpected return code 3221
225477
FAILED tests/test_kat.py::test_sig[Dilithium5-AES] - AssertionError: Got unexpected return code 3221
225477
FAILED tests/test_kat.py::test_sig[Falcon-512] - AssertionError: Got unexpected return code 32212254
77
FAILED tests/test_kat.py::test_sig[Falcon-1024] - AssertionError: Got unexpected return code 3221225
477
FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpected return code 3221225
477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128f-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-348864] - AssertionError: Got unexpected ret
urn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-348864f] - AssertionError: Got unexpected re
turn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-460896] - AssertionError: Got unexpected ret
urn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-460896f] - AssertionError: Got unexpected re
turn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192s-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6688128] - AssertionError: Got unexpected re
turn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6688128f] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6960119] - AssertionError: Got unexpected re
turn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-6960119f] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-8192128] - AssertionError: Got unexpected re
turn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[Classic-McEliece-8192128f] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpected return code 3221225
477
FAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpected return code 3221225
477
FAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpected return code 3221225
477
FAILED tests/test_mem.py::test_mem_kem[Kyber512-90s] - AssertionError: Got unexpected return code 32
21225477
FAILED tests/test_mem.py::test_mem_kem[Kyber1024-90s] - AssertionError: Got unexpected return code 3
221225477
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-640-AES] - AssertionError: Got unexpected return cod
e 3221225477
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-976-AES] - AssertionError: Got unexpected return cod
e 3221225477
FAILED tests/test_mem.py::test_mem_kem[FrodoKEM-1344-AES] - AssertionError: Got unexpected return co
de 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192s-simple] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256f-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128s-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256f-simple] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_sig[Dilithium2-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_mem.py::test_mem_sig[Dilithium3-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-128s-simple] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_mem.py::test_mem_sig[Dilithium5-AES] - AssertionError: Got unexpected return code
3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-192f-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256s-robust] - AssertionError: Got unexpected r
eturn code 3221225477
FAILED tests/test_kat.py::test_sig[SPHINCS+-SHAKE256-256s-simple] - AssertionError: Got unexpected r
eturn code 3221225477
ERROR tests/test_alg_info.py
================ 69 failed, 143 passed, 313 skipped, 1 error in 108.25s (0:01:48) =================
FAILED: tests/CMakeFiles/run_tests C:/msys64/home/noori-a/liboqs-main/_build/tests/CMakeFiles/run_te
sts
cmd.exe /C "cd /D C:\msys64\home\noori-a\liboqs-main && C:\msys64\mingw32\bin\cmake.exe -E env OQS_B
UILD_DIR=C:/msys64/home/noori-a/liboqs-main/_build python -m pytest --verbose --numprocesses=auto --
ignore=scripts/copy_from_upstream/repos"
ninja: build stopped: subcommand failed.
what about test_sig Dilithium3?
this is ok.
test_kem HQC-128 and Dilithium2-AES and the other security levels like Dilithium3-AES and ... has fail.
i have a question. how we can test all kems and signatures??
this is ok.
If this is the case, together this this result from the pytest run:
FAILED tests/test_kat.py::test_sig[Dilithium3] - AssertionError: Got unexpected return code 32212254
77
then your pytest setup is incorrect (manual test OK, but pytest run reporting "unexpected return code"): Debug into that and find the problem. It is not with OQS (again, because the single test program run test_sig Dilithium3 is OK).
test_kem HQC-128 and Dilithium2-AES and the other security levels like Dilithium3-AES and ... has fail.
Such general statement "...has fail" does not permit an error analysis. Provide concrete outputs. Please also consider checking the source code yourself for possible error causes.
how we can test all kems and signatures??
Run test_kem and test_sig without parameters to get information about this. To run everything automatically, run pytest (after fixing your python installation problem).
It is very hard to offer or provide some assistance here!
We will try to build master branch from source and see how it goes.
Can we consider this resolved by now (on 0.8.0/current main)?
Closing as no further feedback received and MSYS2 testing is part of CI.
