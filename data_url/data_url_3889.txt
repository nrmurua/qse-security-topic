This issue will track developments in the support for the definition of gates with arbitrary parameters, which could be used for the implementation of arbitrary rotation gates (for example, virtual-Z gates). Although such a feature would require changes at various levels of PycQED, this issue should only track the developments necessary in OpenQL .
Tests to perform:
After attempting to test this feature, both myself and @wvlothuizen realized that we are currently unaware of how to specify parametric operations in OpenQL. Therefore, we shall ask @jvansomeren for pointers to documentation of this feature before proceeding
After rereading https://openql.readthedocs.io/en/latest/gen/reference_configuration.html#decomposition-key and some testing, parameterized decompositions using the new method just seem to work as expected.
Using decomposition https://github.com/DiCarloLab-Delft/PycQED_py3/blob/feature/cc/pycqed/measurement/openql_experiments/config/config_cc_s17_direct_iq.json.in#L373 in conjunction with cQasm program https://github.com/DiCarloLab-Delft/PycQED_py3/blob/feature/cc/pycqed/tests/openql/test_cqasm.py#L49 works up to the the CC backend, which then fails within 'if' condition: in expression '3 < 45': cannot currently handle functions on two literal parameters. And without the if's, arbitrary rotation gates using pycQED are not feasible.
You're right about the X!
Currently, constant expressions are passed to the backend, and the CC backend doesn't handle them (because it would probably be better to make a separate pass that can be reused across architectures)
