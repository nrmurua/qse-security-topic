As a method to decrease allocation of memory, removing buffer page from state might be a good way.
In the present page method, buffer page is used as a buffer of MPI communications, and after each communication labels of a target page and the buffer page are swapped. In the new method, an unused page is first saved to a binary file, and the unused page becomes a buffer page. After MPI communication and relabeing, load the binary file to the buffer page and the buffer page is recovered as a correct unused page.
