The compiler should support ranged for statements in kernels. See example.
Tentatively adding this to 0.5 - P2, so tbd if it will make it or be included in the next one.
See #646
