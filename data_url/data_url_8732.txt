When two applications are communicating at the same time with a node, there can be a bug since there is a single list of messages to be returned. This should instead be a dictionary with the messages to return per appliaction ID.
