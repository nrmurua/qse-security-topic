Currently, there's an inconsistency with appending phys_gates_vals to the dataset at the end of the scans that use virtual gates. scan1D and scan2D appends them, while in the fast and turbo versions it is not appended. This is my fault, because at some point I commented those lines of code and it seeped through one of the PRs.
Should we make a decision on whether to include them or not? Or perhaps have it as an option? I think the phys_gates_vals could be useful to record, but it's annoying to have to record them as a Measured array type. That's why I've been commenting them out. Could we perhaps add them as part of the metadata instead?
Leaving as is (for compatibility)
