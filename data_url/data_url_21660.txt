Note: removing the foo method call triggers #1413.
Could this be related to the incorrect numpy bool evaulation?
