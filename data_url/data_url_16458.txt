With output
The input/output memory slots should be equivalent, or a way of recovering the input data should be provided. This also happens when I set initial_layout.
We talk about the possibility of adding a layout_method=None or routing_method=None to fully skip those stages. Maybe another case for #3604
