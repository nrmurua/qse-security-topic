This is a follow-on to #1134 and #1144  and #1032 should be made on this after we have done the other two issues.
@nonhermitian this is ready to be done now. As we discussed there should only be one call to parallel map in the tritanspiler and it should do
dag -> circuit, dag->dag and dag->circu
closed by mistake
