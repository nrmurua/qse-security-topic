While IQM produces several predefined QPU architecture (e.g., Adonis, Apollo, and others in the future), the actual components availability in a concrete IQM stations can use only a subset of qubits because of, for example, manufacturing defects. This fact is represented in the station QPU description returned by the /cocos/quantum-architecture, for example this example, notice absence of the QB2, the full Adonis would have had:
CUDA Quantum addresses translate qubit by indices, making it impossible to use such an architecture with nvq++ if the allocated quantum memory covers any of the excluded qubits.
There should be a way to exclude certain qubits from circuit routing. For example, it can be specified in the predefined IQM QPU architecture (currently there are Adonis.txt and Apollo.txt), so it is possible to create e.g., Adonis Variant.txt.
For the current format of connectivity mapping it could look like this for an Apollo with QB2, QB3 and QB4 excluded:
Another alternative would be for the CUDA Quantum to automatically retrieve the quantum architecture a station provides.
