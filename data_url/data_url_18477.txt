There's a minor tweak we could make to the state-to-state transition compiler: the circuits it manufactures have two pairs of adjacent UCRs in them, and we can use the same trick as in src/compilers/ucr-explode.lisp to judiciously pick the expansion order and place canceling CNOTs next to each other.
