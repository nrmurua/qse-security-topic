At the moment the entire system relies upon getting the private and public ip's from the end user at start up. There needs to be an additional system that can do configuration on the fly based on the state of the network/cluster.
The idea would be that you can either provide an explicit private and/or public ip address, or allow quantum to determine the addresses for you. The hardest part will inevitably be the public address as NAT is going to throw a wrench into things. However it should be fine as long as there is a way to use both static and auto defined addresses.
I think this needs to be a part of the datastore, as the datastore will be the one handling storage of the addresses and keeping track of state.
