About the if: They are needed, it is actually an issue that was not reported before (and it is independent of the dmm, I can solve it in another PR if your want). The issue is basically that the wrong error message is displayed, see below with a raman channel declared twice, what is actually failing is the matching of raman_1,  not raman.

Originally posted by @a-corni in #576 (comment)
