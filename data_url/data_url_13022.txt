See #19 (comment) for more info.
Experiments show that ScanningGateRemovalPass is enough to not need to modify the window reoptimization. If we discover we need this in the future we can reopen it.
