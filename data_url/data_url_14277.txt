I get this error when trying to use basis gates.
I'm expecting the circuit to be unrolled as per the basis gates.
Do I need to manually specify a EquivalenceLibrary?
No response
I'm not sure (but haven't really looked into it) that what you've asked for here is mathematically possible.  The mapping of ccx into the basis [ccx, h] is trivial, but I don't know if it's possible to construct a controlled h using just those two.  At the very least, it will require special synthesis techniques that temporarily use ancilla qubits, since ccx is a 3q gate while ch is only 2q.
We can't always synthesise to arbitrary bases.  We can do a lot, but we pretty much require at least one parametrised rotation gate in the output basis - general discrete synthesis (with no parametrised gates) is very specialised, and you'd typically need to manually add calls to Solovay--Kitaev routines, or things like that.  The times we can do discrete synthesis directly in transpile are times when we've got conversion rules in the equivalence library that allow us to map from one basis to the other.  If you included ["s", "sdg", "t", "tdg", "h", "cx"] in your basis, we'd be able to do the discrete synthesis here, but otherwise we're a bit out of luck.
