In the PR #651, the code for the Probabilistic Halting Problem has been updated to be compatible with pyQuil 2.0. However, using the classical register index explicitly (e.g. using something like while_do(0, 0) instead of while_do(0, ro[0])) seems to go against the conventions set by the new version of pyQuil, even though this is what you currently need to do in order to avoid the Error Msg: TypeError: Addr value must be a non-negative int. Moreover, the current code snippet also raises the Warning Msg: UserWarning: Addr objects have been deprecated. Defaulting to memory region "ro". Use MemoryReference instead. warn("Addr objects have been deprecated. Defaulting to memory region \"ro\". Use MemoryReference instead.")
fixed in #674
