One older RedPitaya does not pass nosetests. There are 6 failures, related to
This is probably a timing/threshold voltage issue, but the issue can be resolved by reducing FPGA complexity slightly. The errors are reproducible, and robust against a 1V change of supply voltage (5->6V). This shows the importance of executing unittests on every device that is used.
However, the na transfer issue is not well-understood. It looks like the acquisition goes well until after a few points the transfer function drops rapidly towards very small values. Most likely this is also some data transfer issue.
In the long run, we should reduce FPGA complexity for the master release slightly (easiest by restricting IIR stages to 8 or so), and distribute some 'advanced' versions of the bitfile for nonstandard applications like high-order IIR filters, which must be tested on the Redpitaya to run on. If you observe this problem, maybe we can collect the RedPitaya MAC addresses here to find out if its related to the age/manufacture date of the chip.
Failed no 1 (actually the first one I bought in 2014): 00:26:32:F0:08:8A
We had some feedback from RedPitaya and from the Xilinx forum:
Both say that we need to work on meeting timing specifications (not the case at the moment and one of the reasons for using unittests). The redpitaya guy says he has never seen the amount of slack we have. For now the statistics (>10/11 redpitayas work with the design) allows us to continue this way, but in the long term a major FPGA upgrade should try to meet timing specs. This will involve
