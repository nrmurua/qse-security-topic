I've attempted to do this - see PR #212. @antoniomezzacapo - Can you have a look? It doesn't run correctly.
I think this is superseded by #214
