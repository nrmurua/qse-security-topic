When I run the following code the assertion fails.
These circuits are the same just that the order of the elements in the moment with the # is different.
I think this is because the moment is stored as a tuple of operations so the order matters.
